# 🎻 바이올린 상점 관리 시스템 사용 가이드

안녕하세요! 이 시스템은 바이올린과 활 상점을 위한 인벤토리 관리 프로그램입니다.

## 📋 목차

1. [시작하기](#시작하기)
2. [주요 기능](#주요-기능)
3. [일상적인 사용법](#일상적인-사용법)
4. [문제 해결](#문제-해결)
5. [자주 묻는 질문](#자주-묻는-질문)

---

## 🚀 시작하기

### 처음 설치하는 경우

1. **프로젝트 다운로드**

   ```bash
   git clone [레포지토리 주소]
   cd HC-Violins-and-Bows
   ```

2. **필요한 프로그램 설치**
   - Node.js 20.x 버전이 필요합니다
   - [Node.js 다운로드](https://nodejs.org/)

3. **의존성 설치**

   ```bash
   npm install
   ```

4. **환경 변수 설정**
   - `env.template` 파일을 참고하여 `.env.local` 파일을 만드세요
   - Supabase 연결 정보를 입력하세요

5. **데이터베이스 설정**

   ```bash
   npm run migrate
   ```

6. **개발 서버 실행**

   ```bash
   npm run dev
   ```

7. **브라우저에서 열기**
   - http://localhost:3000 으로 접속하세요

### 이미 설치되어 있는 경우

```bash
# 개발 서버 실행
npm run dev
```

브라우저에서 http://localhost:3000 으로 접속하세요.

---

## 🎯 주요 기능

### 1. 대시보드 (Dashboard) - 악기 재고 관리의 중심

**위치**: 메인 페이지 (`/dashboard`)

**핵심 기능**:

#### 📦 악기 목록 관리

- **전체 악기 현황 한눈에 보기**: 보유한 모든 악기(바이올린, 비올라, 첼로, 활 등)를 한 화면에서 확인
- **실시간 재고 상태**: 각 악기의 현재 상태 확인 (Available, Sold, Reserved, Maintenance 등)
- **소유권 정보**: 각 악기가 어떤 고객과 연결되어 있는지 즉시 확인

#### 🔍 강력한 검색 및 필터링

- **다중 조건 검색**: 제작자(Maker), 종류(Type), 일련번호(Serial Number)로 빠르게 찾기
- **스마트 필터링**:
  - 상태별 필터 (판매 가능, 판매 완료, 예약됨 등)
  - 고객 연결 여부 필터 (고객이 있는 악기 / 없는 악기)
  - 가격 범위 필터
  - 인증서 보유 여부 필터
- **필터 조합**: 여러 필터를 동시에 사용하여 원하는 악기만 정확히 찾기

#### ✏️ 빠른 편집 기능

- **인라인 편집**: 목록에서 바로 수정 가능 (더블클릭 또는 편집 버튼)
- **수정 가능한 항목**: 제작자, 종류, 가격, 상태, 수령일 등
- **즉시 반영**: 수정 사항이 바로 저장되어 즉시 확인 가능

#### 📊 핵심 지표 (KPI) 카드

- **총 악기 가치**: 현재 보유한 모든 악기의 총 가치
- **판매 가능 악기 가치**: 현재 판매 가능한 악기들의 총 가치
- **이번 달 판매**: 이번 달에 판매된 악기 수
- **유지보수 대기**: 수리가 필요한 악기 수

#### 📅 오늘의 Follow-up 요약

- **오늘 해야 할 일**: 오늘 연락해야 할 고객 목록
- **지연된 Follow-up**: 기한이 지난 연락 사항
- **빠른 액션**: 카드에서 바로 완료 처리 가능

#### 🎫 인증서 관리

- **인증서 보유 악기 표시**: 인증서가 있는 악기는 배지로 표시
- **인증서 다운로드**: 클릭 한 번으로 PDF 인증서 생성 및 다운로드
- **인증서 정보 확인**: 인증서 생성일, 유효기간 등 확인

#### ⚡ 빠른 액션

- **판매하기**: 악기를 바로 판매 처리
- **예약하기**: 고객에게 악기 예약
- **유지보수 등록**: 수리/점검 일정 등록
- **삭제하기**: 더 이상 관리하지 않는 악기 삭제

---

### 2. 고객 관리 (Clients) - 고객 정보의 모든 것

**위치**: `/clients`

**핵심 기능**:

#### 👥 고객 정보 관리

- **상세 고객 프로필**: 이름, 이메일, 전화번호, 주소 등 모든 연락처 정보
- **태그 시스템**: 고객을 카테고리별로 분류 (VIP, 일반, 신규 등)
- **관심사 관리**: 고객이 관심 있는 악기 종류 기록
- **메모 기능**: 고객과의 특별한 대화나 요청사항 기록

#### 📞 연락 기록 (Contact Logs)

- **연락 이력 타임라인**: 고객과의 모든 연락 기록을 시간순으로 확인
- **연락 유형 분류**: 전화, 이메일, 방문, 메시지 등 구분
- **Follow-up 일정**: 다음 연락 예정일 자동 설정
- **빠른 액션**: 기록에서 바로 다음 Follow-up 일정 잡기

#### 🔗 고객-악기 연결 관리

- **연결된 악기 목록**: 고객이 관심 있거나 소유한 악기 확인
- **관계 유형 표시**: 관심 있음, 대여 중, 소유, 판매 완료 등
- **빠른 연결**: 고객 페이지에서 바로 악기 연결 가능

#### 📊 고객 분석 (Client Analytics)

- **위치**: `/clients` 페이지의 Analytics 탭
- **구매 이력**: 고객이 구매한 모든 악기 목록
- **구매 통계**:
  - 총 구매액
  - 구매 건수
  - 평균 구매액
  - 최근 구매일
- **구매 패턴 분석**: 어떤 종류의 악기를 선호하는지 파악
- **고객별 통계**: 각 고객의 구매 이력과 통계를 한눈에 확인

#### 🔍 고객 검색 및 필터링

- **이름/이메일 검색**: 빠르게 고객 찾기
- **태그별 필터**: 특정 태그가 있는 고객만 보기
- **구매 이력 필터**: 구매한 고객 / 구매하지 않은 고객 구분
- **최근 연락일 필터**: 최근 연락한 고객 우선 표시

#### 📧 연락 관리

- **Contact Logs**: 고객과의 모든 연락 기록 관리
- **Follow-up 일정**: 다음 연락 예정일 설정 및 관리
- **Today Follow-ups**: 오늘 연락해야 할 고객 목록 자동 표시

---

### 3. 판매 관리 (Sales) - 매출 분석의 모든 것

**위치**: `/sales`

**핵심 기능**:

#### 💰 판매 기록 관리

- **상세 판매 정보**: 판매일, 고객, 악기, 가격 등 모든 정보 기록
- **판매 상태 관리**: 판매 완료, 환불, 부분 환불 등 상태 추적
- **판매 수정/삭제**: 잘못 입력한 판매 기록 수정 또는 삭제
- **판매 내역 검색**: 고객명, 악기명, 날짜로 빠르게 찾기

#### 📈 실시간 판매 통계

- **KPI 대시보드**:
  - 총 매출액 (Revenue)
  - 총 판매 건수 (Orders)
  - 평균 판매액 (Avg. Ticket)
  - 환불액 및 환불률
- **기간별 통계**: 오늘, 이번 주, 이번 달, 올해 등 기간 선택
- **비교 분석**: 전년 동기 대비, 전월 대비 등 비교 가능

#### 📊 시각화 차트

- **매출 추이 차트**: 시간에 따른 매출 변화 그래프
- **악기 종류별 판매**: 어떤 종류의 악기가 많이 팔렸는지
- **고객별 구매 분석**: 주요 고객의 구매 패턴
- **월별/연도별 비교**: 시즌별 판매 패턴 파악

#### 🔍 고급 필터링

- **날짜 범위 필터**: 특정 기간의 판매만 확인
- **빠른 날짜 선택**: 지난 7일, 이번 달, 작년 등 원클릭 선택
- **고객별 필터**: 특정 고객의 구매 이력만 보기
- **악기별 필터**: 특정 악기 종류의 판매만 확인
- **가격 범위 필터**: 특정 가격대의 판매만 필터링

#### 📄 영수증 발행

- **영수증 이메일**: 판매 기록에서 영수증 이메일 생성 및 이메일 클라이언트 열기
- **영수증 정보**: 판매일, 고객, 악기, 가격 등 상세 정보 포함
- **재발행**: 필요시 언제든지 영수증 이메일 다시 생성 가능

#### 📤 데이터 내보내기

- **CSV 내보내기**: 판매 데이터를 엑셀에서 열 수 있는 형식으로 다운로드
- **필터 적용 내보내기**: 현재 필터링된 데이터만 내보내기
- **기간별 내보내기**: 특정 기간의 데이터만 선택하여 내보내기

#### ⚠️ 판매 알림 (Sales Alerts)

- **매출 급감 알림**: 전 기간 대비 매출이 크게 감소했을 때 알림
- **환불 급증 알림**: 환불이 비정상적으로 증가했을 때 알림
- **제작자별 환불 알림**: 특정 제작자의 악기에서 환불이 많이 발생할 때 알림

---

### 4. 캘린더 (Calendar) - 일정 관리의 중심

**위치**: `/calendar`

**핵심 기능**:

#### 📅 다양한 캘린더 뷰

- **월별 뷰 (Month)**: 한 달 전체를 달력 형태로 확인
- **주별 뷰 (Week)**: 한 주의 일정을 상세하게 확인
- **목록 뷰 (Agenda)**: 모든 일정을 목록 형태로 확인
- **연도별 뷰 (Year)**: 한 해 전체를 한눈에 보기
- **타임라인 뷰 (Timeline)**: 시간 순서대로 일정 확인

#### ✅ 작업(Task) 관리

- **작업 추가**: 유지보수, Follow-up, 회의 등 모든 작업 등록
- **작업 상세 정보**:
  - 제목 및 설명
  - 관련 악기 연결
  - 관련 고객 연결
  - 우선순위 설정 (긴급, 높음, 보통, 낮음)
  - 상태 관리 (대기, 진행 중, 완료, 취소)
- **작업 수정/삭제**: 일정 변경 시 쉽게 수정
- **작업 완료 처리**: 완료된 작업은 체크 표시

#### 🔔 알림 및 알림

- **오늘의 작업**: 오늘 해야 할 일 자동 표시
- **지연된 작업**: 기한이 지난 작업 강조 표시
- **다가오는 작업**: 며칠 후 예정된 작업 미리 알림
- **알림 배지**: 사이드바에 알림 개수 표시

#### 🔍 강력한 검색 및 필터

- **작업 제목 검색**: 작업 이름으로 빠르게 찾기
- **악기 검색**: 특정 악기와 관련된 모든 작업 찾기
- **고객 검색**: 특정 고객과 관련된 모든 작업 찾기
- **필터 옵션**:
  - 상태별 필터 (대기, 진행 중, 완료 등)
  - 우선순위별 필터 (긴급, 높음 등)
  - 소유권별 필터 (고객이 있는 악기 / 없는 악기)
  - 날짜 범위 필터

#### 📋 작업 그룹화

- **날짜별 그룹**: 같은 날짜의 작업들을 그룹으로 표시
- **상태별 그룹**: 상태별로 작업 분류
- **우선순위별 그룹**: 우선순위에 따라 작업 정렬

#### 🎯 빠른 액션

- **오늘로 이동**: 한 번의 클릭으로 오늘 날짜로 이동
- **이전/다음**: 월/주/일 단위로 쉽게 이동
- **작업 드래그**: 작업을 다른 날짜로 드래그하여 일정 변경

---

### 5. 연결 관리 (Connections) - 고객과 악기의 관계

**위치**: `/connections`

**핵심 기능**:

#### 🔗 관계 유형 관리

- **Interested (관심 있음)**: 고객이 관심을 보인 악기
- **Booked (예약)**: 고객이 예약한 악기
- **Sold (판매 완료)**: 고객에게 판매한 악기
- **Owned (소유)**: 고객이 소유한 악기
- **관계 순서**: 드래그 앤 드롭으로 관계 유형 변경 가능 (관심 → 예약 → 판매 → 소유)

#### 📋 연결 목록 관리

- **그룹화 표시**: 관계 유형별로 자동 그룹화
- **드래그 앤 드롭**: 연결을 드래그하여 관계 유형 변경
- **연결 추가**: 새로운 고객-악기 연결 생성
- **연결 수정**: 연결 정보 및 관계 유형 변경
- **연결 삭제**: 더 이상 유효하지 않은 연결 제거

#### 🔍 검색 및 필터

- **고객명 검색**: 특정 고객의 모든 연결 찾기
- **악기 검색**: 특정 악기의 모든 연결 찾기
- **관계 유형 필터**: 특정 관계 유형만 보기
- **날짜 필터**: 연결 생성일 기준으로 필터링

#### 📝 연결 메모

- **상세 메모**: 각 연결에 대한 특별한 사항 기록
- **연결 날짜**: 연결이 생성된 날짜 추적
- **연결 이력**: 관계 유형 변경 이력 확인

#### 🎨 시각적 표현

- **색상 코딩**: 관계 유형별로 다른 색상으로 표시
- **카드 형태**: 각 연결을 카드 형태로 깔끔하게 표시
- **정렬 기능**: 고객명, 악기명, 날짜 등으로 정렬

---

### 6. 추가 기능들

#### 🔐 보안 및 권한

- **로그인/로그아웃**: 안전한 계정 관리
- **세션 관리**: 자동 로그아웃으로 보안 강화
- **데이터 암호화**: 모든 데이터는 안전하게 저장

#### 📱 반응형 디자인

- **모바일 지원**: 스마트폰에서도 완벽하게 작동
- **태블릿 최적화**: 태블릿 화면에 맞춘 레이아웃
- **데스크톱 최적화**: 큰 화면에서도 효율적인 사용

#### 🔄 실시간 동기화

- **자동 저장**: 입력한 내용이 자동으로 저장
- **실시간 업데이트**: 여러 명이 동시에 사용해도 최신 정보 유지
- **인터넷 연결 필요**: 현재는 인터넷 연결이 필요하며, Supabase 클라우드 데이터베이스에 저장됩니다

#### 🎨 사용자 친화적 인터페이스

- **직관적인 메뉴**: 쉽게 찾을 수 있는 메뉴 구조
- **빠른 로딩**: 최적화된 성능으로 빠른 페이지 전환
- **에러 처리**: 친절한 에러 메시지로 문제 해결 가이드

---

## 📖 일상적인 사용법

### 악기 추가하기

1. 대시보드 페이지로 이동
2. 우측 상단의 **"Add Item"** 버튼 클릭
3. 악기 정보 입력:
   - Maker (제작자)
   - Type (종류: Violin, Viola, Cello 등)
   - Subtype (세부 종류)
   - Serial Number (일련번호)
   - 가격, 상태 등
4. **"Save"** 버튼 클릭

### 고객 등록하기

1. **Clients** 페이지로 이동
2. **"Add Client"** 버튼 클릭
3. 고객 정보 입력:
   - 이름, 이메일, 전화번호
   - 주소 등
4. **"Save"** 버튼 클릭

### 판매 기록하기

1. **Sales** 페이지로 이동
2. **"Add Sale"** 버튼 클릭
3. 판매 정보 입력:
   - 고객 선택
   - 악기 선택
   - 판매 가격
   - 판매 날짜
4. **"Save"** 버튼 클릭

### 고객과 악기 연결하기

1. **Connections** 페이지로 이동
2. **"Add Connection"** 버튼 클릭
3. 연결 정보 입력:
   - 고객 선택
   - 악기 선택
   - 관계 유형 선택 (관심, 대여, 판매 등)
4. **"Save"** 버튼 클릭

### Follow-up 일정 관리

1. **Calendar** 페이지로 이동
2. 날짜를 선택하거나 **"Add Task"** 버튼 클릭
3. 일정 정보 입력:
   - 제목
   - 날짜 및 시간
   - 관련 고객/악기
   - 우선순위
4. **"Save"** 버튼 클릭

---

## 🔧 문제 해결

### 서버가 시작되지 않아요

```bash
# 포트가 이미 사용 중인 경우
# 다른 터미널에서 실행 중인 서버를 종료하세요
npm run dev
```

### 데이터베이스 연결 오류

1. `.env.local` 파일 확인
2. Supabase 연결 정보가 올바른지 확인
3. Supabase 프로젝트가 활성화되어 있는지 확인

### 페이지가 로드되지 않아요

1. 브라우저 캐시 삭제 (Ctrl+Shift+Delete 또는 Cmd+Shift+Delete)
2. 개발 서버 재시작:
   ```bash
   # 서버 중지 (Ctrl+C)
   npm run dev
   ```

### 로그인이 안 돼요

1. 이메일과 비밀번호 확인
2. Supabase에서 이메일 확인이 활성화되어 있는지 확인
3. 개발 환경에서는 이메일 확인을 비활성화하는 것이 좋습니다

---

## ❓ 자주 묻는 질문

### Q: 데이터는 어디에 저장되나요?

A: Supabase 클라우드 데이터베이스에 저장됩니다. 인터넷 연결이 필요합니다.

### Q: 여러 명이 동시에 사용할 수 있나요?

A: 네, 가능합니다. 모든 사용자가 실시간으로 같은 데이터를 볼 수 있습니다.

### Q: 데이터를 백업할 수 있나요?

A: Supabase 대시보드에서 데이터베이스 백업을 설정할 수 있습니다.

### Q: 모바일에서도 사용할 수 있나요?

A: 네, 반응형 디자인으로 모바일 브라우저에서도 사용 가능합니다.

### Q: 오프라인에서 사용할 수 있나요?

A: 현재는 인터넷 연결이 필요합니다. 오프라인 기능은 추후 추가 예정입니다.

---

## 📞 도움이 필요하신가요?

### 개발자에게 문의

- GitHub Issues에 문제를 등록하세요
- 또는 개발팀에 직접 연락하세요

### 유용한 명령어 모음

```bash
# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 프로덕션 서버 실행
npm run start

# 코드 검사
npm run lint

# 타입 체크
npm run type-check
```

---

## 🎓 추가 학습 자료

- [Next.js 공식 문서](https://nextjs.org/docs)
- [Supabase 공식 문서](https://supabase.com/docs)
- [Playwright 테스트 문서](https://playwright.dev)

---

**마지막 업데이트**: 2024년

이 가이드가 도움이 되셨다면 좋겠습니다! 🎻
