# 페이지 비교 분석: `/clients` vs `/customer`

**작성일**: 2025-01-XX  
**목적**: 두 페이지의 차이점 분석 및 명명 개선 제안

---

## 📊 페이지 개요

### `/clients` - 고객 관리 페이지
**목적**: 고객 정보의 CRUD 관리 및 악기 연결 관리

**주요 기능**:
- ✅ 고객 추가/수정/삭제 (CRUD)
- ✅ 악기 연결 관리 (client_instruments 관계)
- ✅ 고급 필터링 (태그, 관심사, 악기 보유 여부 등)
- ✅ 검색 및 정렬
- ✅ 인라인 편집
- ✅ 고객 상세 정보 모달

**데이터 소스**:
- 실제 데이터베이스 (`clients` 테이블)
- API 라우트: `/api/clients`
- Hook: `useUnifiedClients`

**사용자 타입**: 관리자, 직원

---

### `/customer` - 고객 분석 페이지
**목적**: 고객 구매 이력 분석 및 통계

**주요 기능**:
- ✅ 고객 목록 보기 (읽기 전용)
- ✅ 고객 상세 정보 표시
- ✅ 구매 이력 (Purchase History) 표시
- ✅ 고객 통계 (Customer Stats)
- ✅ 구매 상태 필터링 (All/Completed/Pending/Refunded)
- ✅ 태그 기반 필터링
- ✅ 정렬 (이름/총 구매액/최근 활동)

**데이터 소스**:
- ⚠️ **Mock 데이터** (`mockCustomers` 배열)
- 실제 API 연결 없음
- Hook: `useCustomers` (로컬 상태만 사용)

**사용자 타입**: 분석가, 관리자

---

## 🔍 주요 차이점

| 항목 | `/clients` | `/customer` |
|------|-----------|-------------|
| **데이터 소스** | 실제 DB (`clients` 테이블) | Mock 데이터 |
| **기능** | CRUD 관리 | 읽기 전용 + 분석 |
| **악기 연결** | ✅ 관리 가능 | ❌ 없음 |
| **구매 이력** | ❌ 없음 | ✅ 표시 |
| **통계** | ❌ 없음 | ✅ Customer Stats |
| **필터링** | 고급 (태그, 관심사, 악기 등) | 기본 (태그, 구매 상태) |
| **편집 기능** | ✅ 인라인 편집 가능 | ❌ 읽기 전용 |
| **API 연결** | ✅ `/api/clients` | ❌ 없음 |

---

## 🎯 사용 시나리오

### `/clients` 사용 시나리오
1. **새 고객 등록**: "Add Client" 버튼으로 고객 추가
2. **고객 정보 수정**: 인라인 편집 또는 모달로 정보 수정
3. **악기 연결**: 고객에 악기 연결/해제
4. **고객 검색**: 이름, 이메일, 태그로 검색
5. **고객 필터링**: 특정 조건의 고객만 보기

### `/customer` 사용 시나리오
1. **구매 이력 확인**: 특정 고객의 모든 구매 기록 보기
2. **고객 분석**: 총 구매액, 구매 빈도 등 통계 확인
3. **고객 비교**: 여러 고객의 구매 패턴 비교
4. **리포트 작성**: 고객 활동 리포트 생성

---

## ⚠️ 현재 문제점

### 1. 데이터 불일치
- `/customer` 페이지가 Mock 데이터를 사용하여 실제 데이터와 동기화되지 않음
- `/clients`에서 수정한 정보가 `/customer`에 반영되지 않음

### 2. 기능 중복
- 두 페이지 모두 고객 목록을 표시하지만 목적이 다름
- 고객 상세 정보 표시 기능이 중복됨

### 3. 명명 혼란
- `/clients` (복수형) vs `/customer` (단수형)
- 의미가 명확하지 않음

---

## 💡 개선 제안

### 옵션 1: 페이지 통합 (권장)
**제안**: `/customer` 페이지를 `/clients`의 하위 뷰로 통합

**구조**:
```
/clients
  ├── 목록 뷰 (기본)
  ├── 상세 뷰 (탭: 정보 / 구매 이력 / 통계)
  └── 편집 모달
```

**장점**:
- 데이터 일관성 유지
- 중복 코드 제거
- 사용자 경험 개선 (한 곳에서 모든 기능)

**단점**:
- 리팩토링 작업 필요
- Mock 데이터를 실제 API로 교체 필요

---

### 옵션 2: 페이지 분리 유지 + 명명 개선
**제안**: 두 페이지를 분리하되 명확한 이름으로 변경

**변경 사항**:
- `/clients` → `/clients/manage` 또는 유지
- `/customer` → `/clients/analytics` 또는 `/customers/analytics`

**추가 작업**:
- `/customer` 페이지의 Mock 데이터를 실제 API로 교체
- `sales_history` 테이블과 연동하여 실제 구매 이력 표시
- 고객 통계를 실제 데이터 기반으로 계산

**장점**:
- 명확한 역할 분리
- 각 페이지의 목적이 분명함

**단점**:
- 두 페이지 간 데이터 동기화 필요
- API 개발 필요

---

### 옵션 3: `/customer` 페이지 제거
**제안**: `/customer` 페이지를 제거하고 `/clients`에 분석 기능 추가

**이유**:
- 현재 Mock 데이터만 사용 중
- 실제 기능이 완전하지 않음
- `/clients`에 통계 기능 추가로 대체 가능

**장점**:
- 코드베이스 단순화
- 유지보수 부담 감소

**단점**:
- 향후 분석 기능 확장 시 재구현 필요

---

## 📝 권장 사항

### 단기 (즉시)
1. ✅ `/instruments` 페이지를 사이드바에 추가 (완료)
2. ⚠️ `/customer` 페이지의 Mock 데이터를 실제 API로 교체
3. ⚠️ `/customer` → `/clients/analytics`로 경로 변경 고려

### 중기 (1-2주)
1. `/customer` 페이지를 `/clients`의 분석 탭으로 통합 검토
2. `sales_history` API와 연동하여 실제 구매 이력 표시
3. 고객 통계 기능을 실제 데이터 기반으로 구현

### 장기 (1개월+)
1. 두 페이지의 기능을 완전히 통합
2. 고급 분석 기능 추가 (차트, 리포트 등)

---

## 🎨 명명 제안

### 현재
- `/clients` - 고객 관리
- `/customer` - 고객 분석 (Mock)

### 제안 1: 역할 기반 명명
- `/clients` - 고객 관리 (유지)
- `/clients/analytics` - 고객 분석

### 제안 2: 기능 기반 명명
- `/clients/manage` - 고객 관리
- `/clients/insights` - 고객 인사이트

### 제안 3: 단순화
- `/clients` - 고객 관리 (기본)
- `/customers` - 고객 분석 (복수형으로 통일)

---

## ✅ 결론

**현재 상태**:
- `/clients`: 완전히 기능하는 관리 페이지 ✅
- `/customer`: Mock 데이터 기반 프로토타입 ⚠️

**권장 조치**:
1. **즉시**: `/customer` 페이지의 Mock 데이터를 실제 API로 교체
2. **단기**: `/customer` → `/clients/analytics`로 경로 변경
3. **중기**: 두 페이지를 통합하거나 명확히 분리

**최종 목표**:
- 데이터 일관성 확보
- 사용자 경험 개선
- 코드베이스 단순화
